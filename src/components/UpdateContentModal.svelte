<script lang="ts">
  import Modal from './Modal.svelte';
  import * as config from '../config';

  export let updateVisibility: boolean = false;
  export let onOKButtonClick: () => void = () => {};
</script>

<Modal
  visible={updateVisibility}
  showOkButton
  top="0%"
  width="85%"
  title="æ›´æ–°å†…å®¹"
  zindex={1919811}
  onOKButtonClick={() => {
    updateVisibility = false;
    onOKButtonClick();
  }}
>
  <div id="modalContainer">
    <div class="update">
      <p class="updateTitle"><date>{config.default.lastUpdated}</date> çš„æ›´æ–°<br />(ver {config.default.currentVer})</p>
      <div class="updateSection">
        <p class="sectionTitle">ğŸ’¡ æ–°çš„<ruby>ç‰¹æ€§</ruby>:</p>
        <p>- æ·»åŠ äº†3DMapé¡µçš„åŸºåº•ï¼ˆå¼€å‘ä¸­ï¼‰</p>
        <p>- æ·»åŠ äº†æ”¯çº¿é¡µçš„é¢„è§ˆ(?)ï¼ˆå³å°†å®Œæˆï¼‰</p>
        <p>- ä¼˜åŒ–äº†å¯¹è¯æ¡†çš„æ’ç‰ˆ, æŒ‰é’®ä¸ä¼šè¢«æŒ¤åˆ°ä¸‹é¢äº†</p>
      </div>
      <div class="updateSection">
        <p class="sectionTitle">ğŸ ä¿®å¤äº†bug:</p>
        <p>- æœåŠ¡å™¨å“åº”å¤±è´¥æ—¶è¯´æ˜é¡µä¼šå¡ä½</p>
      </div>
    </div>
    <hr />
    <div class="update">
      <p class="updateTitle"><date>2022-4-5 16:50</date> çš„æ›´æ–°<br />(ver 3.1.5.0)</p>
      <div class="updateSection">
        <p class="sectionTitle">ğŸ’¡ æ–°çš„<ruby>ç‰¹æ€§<rt>bug</rt></ruby>:</p>
        <p>- æ·»åŠ äº†å¼€å±æ›´æ–°æç¤º</p>
      </div>
      <div class="updateSection">
        <p class="sectionTitle">ğŸ ä¿®å¤äº†bug:</p>
        <p>- ä¸èƒ½æ¸…é™¤éšè—ç‚¹</p>
        <p>- ä¸èƒ½å¯¼å…¥éšè—ç‚¹</p>
      </div>
      <div class="updateSection">
        <p class="sectionTitle">ğŸ’» å¼€å‘ä¸­çš„åŠŸèƒ½:</p>
        <p>- æ”¯çº¿é¡µ</p>
      </div>
    </div>
  </div>
</Modal>

<style>
  #modalContainer {
    display: flex;
    flex-direction: column;
    align-items: center;
  }

  #modalContainer p {
    color: rgb(228, 223, 210);
    margin: 10px 0;
  }
  .update {
    display: flex;
    flex-direction: column;
    gap: 10px;
    width: -webkit-fill-available;
  }
  .updateSection {
    text-align: left;
  }
  .updateTitle {
    font-size: larger;
    font-weight: bold;
  }
  .sectionTitle {
    text-shadow: 0 0 2px rgb(209, 207, 198);
    font-weight: bold;
  }
  hr {
    width: -webkit-fill-available;
    background-color: navajowhite;
  }
</style>
